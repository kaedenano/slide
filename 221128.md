# Spotify Stats
- Team Ras

## 概要
- Webサイト
- サイトでSpotifyにログインすると自らの統計ページを生成
- 自分が最も聴いている曲などの統計がグラフやランキング形式で表示される
- ページはログインしたユーザーごとに生成される
- ページの共有が可能(Twitterに対応)
- ページを共有するかどうかはユーザーが決められる

    <img src='stats.png' width="55%">

<div style="page-break-after: always;"></div>

## 開発の経緯
- 名刺代わりの10冊メイカー(tenbooksmaker.com)というサービスに着想を得た
    - 自分の好きな本を10冊選んで共有できるサイト
    
    <img src='books.png' width="80%">
    
- 好きな曲をランキング形式で表示/共有できるサイトは面白いのではないかと思った
- 加えて，Spotify公式が提供している統計の表示機能に問題がある
    - 年に1回しか見ることができない
    - アプリからしか見られない
    - 共有の手段に乏しい(スクリーンショットを撮ってアップロードしなければならない)
    - 情報が多くない
-  上記の理由からWebサイトとしてログインするだけで表示/共有ができるサービスを作ることにした  

<div style="page-break-after: always;"></div>

## 機能
- 統計の表示
    - 最も聴いている曲のランキング
    - 最も聴いているアーティストのランキング
    - 最も聴いているジャンルのランキング
    - ランキング上位曲の平均BPM
    - ランキング上位曲のキーの最頻値
    - 曲が持つユーザー属性
    - 上記データとトップチャートのデータを比較
    - データのグラフ表示
- 生成されたページの共有
    - ページから直にツイートが可能
    - 共有時にアルバムの画像がOGPで表示される

## 使用技術
- プログラミング言語
    - JavaScript
- JavaScriptフレームワーク
    - Next.js
    - NextAuth.js
- ホスティングサービス
    - Vercel
- バックエンドサービス(DB/NoSQL)
    - Firebase(Firestore)
- API
    - Spotify Web API
- CSSフレームワーク
    - Tailwind CSS

## 苦労した点と現状の問題
- 当初はPHP/Laravel+VPSで開発していたが，ホスティングサービスであるVercel+Next.jsのエコシステムが魅力的だったので言語をJSに変更した
- アルバムなど画像の多いサイトになるので，高度な画像の最適化を行ってくれる点でもNext.jsを使いたかった
- Next.jsの学習コストが想定していたより高く，機能を実現するまでに時間がかかった
- JSからDBを使用するベストプラクティスがわからなかったため，バックエンドの開発が遅れた
- APIをパブリックで利用するためには**完成したサイト**が必要で，ユーザーはまだ利用できない